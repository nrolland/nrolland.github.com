<?Xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>xQuant - A literate workflow</title>
        <link rel="stylesheet" type="text/css" href="../css/lhs.css" />
        <link rel="stylesheet" type="text/css" href="../css/styling.css" />
        <link rel="alternate" type="application/rss+xml" title="xQuant.net Atom feed" href="http://xquant.net/atom.xml" /> 
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    </head>
    <body>
        <div id="main-div" class="row;column;padding:0px">
            <div class="top-bar">
              <div class="top-bar-left">
                <ul class="menu" style="margin:25px" data-dropdown-menu>
                    <li class="menu-text"><h3><a href="../">Home</a></li></h3>
               </ul>
              </div>
            </div>
            <div id="content" class="row column main" style="min-height:500px">
             
              <h1>A literate workflow</h1>
             <div class="info">
    Posted on February  1, 2017
    
</div>
<div class="info">
    
</div>


<h1 id="stack-templates">Stack templates</h1>
<p>There is <a href="https://github.com/commercialhaskell/stack-templates">standard collection</a> of stack templates (+ explanations on how to create new ones)</p>
<p>The <a href="https://docs.haskellstack.org/en/stable/GUIDE/?highlight=template#templates">stack documentation</a> also explains how to use this feature, and how local template file can be used</p>
<h1 id="readme-lhs">Readme-lhs</h1>
<p><a href="https://github.com/tonyday567/readme-lhs">Readme-lhs</a> is a conveniently pre-setup literate workflow. The program extracted generates the assets that the document extrated might need. after entering</p>
<pre>
  <code style="white-space: pre-wrap;">
stack build --copy-bins --exec "readme" --exec "pandoc -f markdown+lhs -i readme.lhs -t html -o index.html --filter pandoc-include --mathjax" --exec "pandoc -f markdown+lhs -i readme.lhs -t markdown -o readme.md --filter pandoc-include --mathjax -s" --exec "echo Yah, it succeeded! " --file-watch
  </code>
</pre>
<p>you can edit readme.lhs and have it be compiled to an output markdown file <code>readme.md</code></p>
<h1 id="example">Example</h1>
<p>let’s draw est encore mieux..</p>
<hr />
<p>“Online” <a href="https://github.com/tonyday567/online">code</a> and <a href="https://tonyday567.github.io/online/index.html">result</a> : uses <code>readme.lhs</code> to generate the readme.md for github, and has references to files like</p>
<pre class="text"><code>...
![](other/av.svg)

...</code></pre>
<p>which are generated by readme.lhs itself</p>
<pre class="text"><code>&gt; main :: IO ()
&gt; main = do
&gt;     fileSvg
&gt;         &quot;other/asum.svg&quot; (300,300)
&gt;         (line def [(LineConfig 0.002 (Color 0.33 0.33 0.33 0.4))]
&gt;          ([zipWith V2 [0..] (L.scan L.sum vs)])
&gt;          )</code></pre>
<p>the program extracted from this readme.lhs is compiled according to the cabal file <code>online.cabal</code> which references the library located in the <code>src/</code> directory</p>
<h1 id="readme-lhs-template">Readme-lhs template</h1>
<p>If the <a href="https://raw.githubusercontent.com/tonyday567/readme-lhs/master/other/readme-lhs.hsfiles">template</a> was updated on can wget it and use <code>stack new mysubject ./readme-lhs.hsfiles</code></p>
<h1 id="integration-in-a-hakyll-workflow">Integration in a hakyll workflow</h1>
<p>by convention, if the name of the program generating the dependencies is named <code>readme</code> in the cabal file, if the litterate program stores its file in the <code>readme_static</code> directory, and its ouput is <code>readme.markdown</code>, then this can be added to a hakyll workflow for compilation</p>

            </div>
        </div>

        <footer>
            <div class="footer"> </div>
        </footer>
        <!-- Third-party -->
        <script src="../js/jquery.min.js" type="application/javascript"></script>
        <script src="../js/what-input.min.js" type="application/javascript"></script>
        <script src="../js/foundation.min.js" type="application/javascript"></script>
        <script>
         